<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Ο Ιστότοπός του Βασίλη Μου</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<h1>το πρωτο μου site</h1>
	<div>
  		<video id="video" width="640" height="480" autoplay></video>
  		<button class="button" onclick="takePhoto()">Λήψη Φωτογραφίας</button>
	</div>
	<canvas id="canvas" style="display: none;"></canvas>
	
	<script>
	    function takePhoto() {
	      const constraints = { video: true };

	      navigator.mediaDevices.getUserMedia(constraints)
		.then(function (stream) {
		  const video = document.createElement('video');
		  video.srcObject = stream;
		  video.play();
		  console.log('Video is playing:', video.paused);

		  const canvas = document.createElement('canvas');
		  canvas.width = video.videoWidth;
		  canvas.height = video.videoHeight;

		  const context = canvas.getContext('2d');
		  context.drawImage(video, 0, 0, canvas.width, canvas.height);

		  const tracks = stream.getTracks();
		  tracks.forEach(track => track.stop());

		  const photo = new Image();
		  photo.src = canvas.toDataURL('image/jpeg');
		  document.body.appendChild(photo);
		})
		.catch(function (error) {
		  console.error('Σφάλμα κατά τη λήψη της φωτογραφίας:', error);
		});
	    }
  	</script>
</body>	
</html>
